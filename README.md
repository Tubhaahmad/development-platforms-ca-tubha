# Development Platforms CA â€” News Platform (Option 2: Supabase)

This is a simple news platform where anyone can browse news articles, and logged-in users can submit new articles.

**Tech used:** Vanilla JavaScript, HTML, CSS, Supabase (Auth + Database + RLS), Vite.

---

## Features

### Public

- View a list of articles (title, body, category, created date)

### Authentication

- Register with email + password
- Email confirmation is required before login works
- Login / Logout

### Articles (authenticated)

- Only logged-in users can create articles
- Each article is automatically connected to the logged-in user (`submitted_by`)

### Security

- Row Level Security (RLS) is enabled
- Anyone can read articles
- Only authenticated users can insert articles (and only with their own user id)

## Quick Start

### 1. Supabase setup

Create a Supabase project and run this in **SQL Editor**:

```sql
create table public.articles (
  id bigint generated by default as identity primary key,
  title text not null,
  body text not null,
  category text not null,
  submitted_by uuid not null references auth.users(id),
  created_at timestamptz not null default now()
);

alter table public.articles enable row level security;

create policy "anyone can read articles"
on public.articles
for select
using (true);

create policy "logged in users can add articles"
on public.articles
for insert
to authenticated
with check (submitted_by = auth.uid());
```

Auth requirement:

- Supabase Auth uses email confirmation (users must confirm their email before login works).

### 2. Environment variables

Copy .env.example to .env and fill in your Supabase values:

- VITE_SUPABASE_URL (Project URL)
- VITE_SUPABASE_ANON_KEY (Publishable key)

Example .env:

VITE_SUPABASE_URL=https://YOURPROJECT.supabase.co

VITE_SUPABASE_ANON_KEY=YOUR_PUBLISHABLE_KEY

### 3. Install and run

```bash
npm install
```

```bash
npm run dev
```

Open the URL Vite prints (usually http://localhost:5173).

## Motivation

I chose option 2 because it let me build a full working site quickly. Supabase handled authentication and the database, so I could focus on the frontend and connecting everything together.

### What I liked

- It was fun to connect register/login to a real backend.
- RLS policies made it possible to easily restrict article creation to logged in users.

### What I found difficult

- Understanding why RLS blocks everything until policies are added.
- Email confirmation caused login errors until I confirmed the user.

### What I think the benefits of developing a custom API are versus using a SaaS option like Supabase, or vice versa

- A custom API gives more control, but takes much more time and requires handling security.
- Supabase is significantly faster to set up, but you depend on the platform and its own way of doing things.

### Tools

ChatGPT was used as a helper for:

- CSS styling
- Explaining Supabase concepts (Auth, sessions RLS, policies)
- Generating news article text
